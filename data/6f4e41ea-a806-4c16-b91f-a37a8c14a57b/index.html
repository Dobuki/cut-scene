<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <script>
      if (location.hash?.startsWith("#")) {
        const hashParams = new URLSearchParams(location.hash.substring(1));
        if (hashParams.get("noredirect")) {
          window.noredirect = true;
        }
      }
    </script>
    <!-- METADATA -->
    <!-- version: 67950fdf35de655d4f1684797250b493744684b3000d3b0c5e96f6e001e948d0 -->
    <script>
      window.canonicalVersion =
        "67950fdf35de655d4f1684797250b493744684b3000d3b0c5e96f6e001e948d0";
      const finalUrl = "https://cutscene.dobuki.net/data/6f4e41ea-a806-4c16-b91f-a37a8c14a57b";
      if (finalUrl.length && !window.noredirect) {
        function ensureSlash(url) {
          url = url.split("?")[0].split("#")[0];
          if (!url.endsWith("/")) {
            return url + "/";
          }
          return url;
        }
        const canonicalUrl = ensureSlash(finalUrl);
        if (canonicalUrl !== ensureSlash(window.location.href)) {
          fetch(canonicalUrl)
            .then(async (result) => {
              if (!result.ok) {
                return;
              }
              const text = await result.text();
              if (text.includes("version: " + window.canonicalVersion)) {
                console.log("canonical url is ready");
                window.location.replace(
                  canonicalUrl + window.location.search + window.location.hash
                );
              }
            })
            .catch(() => {
              console.log("canonical url not ready");
            });
        }
        window.canonicalUrl = canonicalUrl;
      } else {
        window.canonicalUrl = location.href;
      }
    </script>
    <title>Power Troll cutscene</title>
    <meta
      name="description"
      content=""Yes, please, I'd like another carrot juice...""
    />
    <meta name="keywords" content="cutscene" />
    <meta name="author" content="@jacklehamster" />
    <meta
      property="og:title"
      content="Power Troll cutscene"
    />
    <meta
      property="og:description"
      content=""Yes, please, I'd like another carrot juice...""
    />
    <meta
      property="og:image"
      content="https://cdn.dobuki.net/d11a6097b86c659ce3599e8cccbad91cc52431d9e6c1ac660f00257345fa4df1.png"
    />
    <meta property="og:url" content="https://cutscene.dobuki.net/data/6f4e41ea-a806-4c16-b91f-a37a8c14a57b" />
    <meta property="og:type" content="website" />
    <meta property="og:site_name" content="Power Troll cutscene" />
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="Power Troll cutscene" />
    <meta
      name="description"
      content=""Yes, please, I'd like another carrot juice...""
    />
    <meta
      name="twitter:image"
      content="https://cdn.dobuki.net/d11a6097b86c659ce3599e8cccbad91cc52431d9e6c1ac660f00257345fa4df1.png"
    />
    <meta name="twitter:site" content="@jacklehamster" />
    <meta name="twitter:creator" content="@jacklehamster" />
    <link rel="canonical" href="https://cutscene.dobuki.net/data/6f4e41ea-a806-4c16-b91f-a37a8c14a57b" />
    <link
      rel="icon"
      href="https://cutscene.dobuki.net/favicon.ico"
      type="image/x-icon"
    />
    <link
      rel="shortcut icon"
      href="https://cutscene.dobuki.net/favicon.ico"
      type="image/x-icon"
    />
    <link
      rel="icon"
      href="https://art.dobuki.net/images/dobuki.png"
      type="image/png"
    />
    <link
      rel="apple-touch-icon"
      href="https://art.dobuki.net/images/dobuki.png"
    />
    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "CreativeWork",
        "name": "Power Troll cutscene",
        "description": ""Yes, please, I'd like another carrot juice..."",
        "url": "https://cutscene.dobuki.net/data/6f4e41ea-a806-4c16-b91f-a37a8c14a57b",
        "image": {
          "@type": "ImageObject",
          "url": "https://cdn.dobuki.net/d11a6097b86c659ce3599e8cccbad91cc52431d9e6c1ac660f00257345fa4df1.png",
          "width": 1000,
          "height": 600
        },
        "publisher": {
          "@type": "Organization",
          "name": "Dobuki Studio",
          "logo": {
            "@type": "ImageObject",
            "url": "https://art.dobuki.net/images/dobuki.png",
            "width": 600,
            "height": 600
          }
        }
      }
    </script>
    <!-- METADATA -->
    <!-- CUTSCENE -->
    <script>
      window.generatedCutscene = true;
    </script>
    <script type="application/json" id="cutscene-data">
      {
        "availableImages": [
          [
            "https://art.dobuki.net/images/img-up.png"
          ],
          [
            "https://cdn.dobuki.net/9cba941b678b910ca825fc2b8e634cf735e31d9286572e009b43cd70f08ed898.png",
            "https://art.dobuki.net/data/image/cutscene/images/0932738c-2e5f-44cf-9797-e9cebfb378f3/newgrounds/jacklehamster/troll-inn1.png"
          ],
          [
            "https://cdn.dobuki.net/4a561f6ca9500c078bd7c9d5ed311c833be2d63c534d3fe3169041e06d58721e.png",
            "https://art.dobuki.net/data/image/cutscene/images/0932738c-2e5f-44cf-9797-e9cebfb378f3/newgrounds/jacklehamster/troll-inn2.png"
          ],
          [
            "https://cdn.dobuki.net/d11a6097b86c659ce3599e8cccbad91cc52431d9e6c1ac660f00257345fa4df1.png",
            "https://art.dobuki.net/data/image/cutscene/images/0932738c-2e5f-44cf-9797-e9cebfb378f3/newgrounds/jacklehamster/troll-inn3.png"
          ],
          [
            "https://cdn.dobuki.net/93fb349b2409f6f05e773f5676810bc7af64bf9101a58c7812e9e7680add746a.png",
            "https://art.dobuki.net/data/image/cutscene/images/0932738c-2e5f-44cf-9797-e9cebfb378f3/newgrounds/jacklehamster/troll-inn4.png"
          ],
          [
            "https://cdn.dobuki.net/2ff3382c4a268fb9d7d39cab58158d66da80636f22db8243152d7a8b1b06ee63.png",
            "https://art.dobuki.net/data/image/cutscene/images/0932738c-2e5f-44cf-9797-e9cebfb378f3/newgrounds/jacklehamster/troll-inn5.png"
          ],
          [
            "https://cdn.dobuki.net/d7aa50534bbff9eb92e43e1ab08d1c6fda5f2beb26a55797bb6acec9dabefe63.png",
            "https://art.dobuki.net/data/image/cutscene/images/0932738c-2e5f-44cf-9797-e9cebfb378f3/newgrounds/jacklehamster/troll-inn6.png"
          ],
          [
            "https://cdn.dobuki.net/b3cd159d71d30f9f912223ccfb2775b1c92eb6e383c256192d71972f16f2bdfa.png",
            "https://art.dobuki.net/data/image/cutscene/images/0932738c-2e5f-44cf-9797-e9cebfb378f3/newgrounds/jacklehamster/troll-inn7.png"
          ],
          [
            "https://cdn.dobuki.net/c54246b77a5c761d23f3252046c97ce4bbf28a0ee44fd913149a18527e114feb.png",
            "https://art.dobuki.net/data/image/cutscene/images/0932738c-2e5f-44cf-9797-e9cebfb378f3/newgrounds/jacklehamster/troll-inn8.png"
          ],
          [
            "https://cdn.dobuki.net/9f8bd26928f027cc70190b8cc52c39d232b98134c1b1d7de34a1899329908674.png",
            "https://art.dobuki.net/data/image/cutscene/images/0932738c-2e5f-44cf-9797-e9cebfb378f3/newgrounds/jacklehamster/troll-inn9.png"
          ],
          [
            "https://cdn.dobuki.net/b9be118814efee0ca8146167d213823325dbcc189682a49605cfe31ef171cc51.png",
            "https://art.dobuki.net/data/image/cutscene/images/0932738c-2e5f-44cf-9797-e9cebfb378f3/newgrounds/jacklehamster/troll-inn10.png"
          ],
          [
            "https://cdn.dobuki.net/56f343e028df2ebb8e56a1dea5544ad92ab34931eeeb4cb3011a0b3f02a735d8.png",
            "https://art.dobuki.net/data/image/cutscene/images/0932738c-2e5f-44cf-9797-e9cebfb378f3/newgrounds/jacklehamster/troll-inn11.png"
          ],
          [
            "https://cdn.dobuki.net/d4cace55e6e9af6cf80e4d5d130fc791acdb1ae16430e0ec166da77e3b63d7bd.png",
            "https://art.dobuki.net/data/image/cutscene/images/0932738c-2e5f-44cf-9797-e9cebfb378f3/newgrounds/jacklehamster/troll-inn12.png"
          ],
          [
            "https://cdn.dobuki.net/fea0d91022e1c620592460566ebfb4ef7ff39be4c98b4e19cf877c39985b63c9.png",
            "https://art.dobuki.net/data/image/cutscene/images/0932738c-2e5f-44cf-9797-e9cebfb378f3/newgrounds/jacklehamster/troll-inn13.png"
          ],
          [
            "https://cdn.dobuki.net/da0285c070788f817de1ef0536dc1f4807987bcbcac26ad73e13fd6d0dac56f7.png",
            "https://art.dobuki.net/data/image/cutscene/images/0932738c-2e5f-44cf-9797-e9cebfb378f3/newgrounds/jacklehamster/troll-inn14.png"
          ],
          [
            "https://cdn.dobuki.net/be2e5ba0264c8ca163905fefef3f88bc00b5b3a5c07e614ead031f1b4772ab4c.png",
            "https://art.dobuki.net/data/image/cutscene/images/0932738c-2e5f-44cf-9797-e9cebfb378f3/newgrounds/jacklehamster/troll-inn15.png"
          ],
          [
            "https://cdn.dobuki.net/496fda5f40e983ff71864ad0277b82292d1662ee8061163b3f098fcd558e6133.png",
            "https://art.dobuki.net/data/image/cutscene/images/0932738c-2e5f-44cf-9797-e9cebfb378f3/newgrounds/jacklehamster/troll-inn16.png"
          ]
        ],
        "scenes": [
          {
            "bg": [
              "https://cdn.dobuki.net/d11a6097b86c659ce3599e8cccbad91cc52431d9e6c1ac660f00257345fa4df1.png",
              "https://art.dobuki.net/data/image/cutscene/images/0932738c-2e5f-44cf-9797-e9cebfb378f3/newgrounds/jacklehamster/troll-inn3.png"
            ],
            "text": "\"Yes, please, I'd like another carrot juice...\"",
            "audio": [
              "https://cdn.dobuki.net/bc3609cd090476c7020bdd94e89cc3d38843c16176c55d097d0577f0471f6821.mp3",
              "https://power-troll-levels.dobuki.net/data/audio/cutscene/audio/newgrounds/jacklehamster/1184476_Strolling-Jamuary-3-2023.mp3"
            ],
            "voice": "Junior",
            "fade": false,
            "id": "ccd7541e-ee3a-4224-a032-17618602c891"
          },
          {
            "bg": [
              "https://cdn.dobuki.net/9cba941b678b910ca825fc2b8e634cf735e31d9286572e009b43cd70f08ed898.png",
              "https://art.dobuki.net/data/image/cutscene/images/0932738c-2e5f-44cf-9797-e9cebfb378f3/newgrounds/jacklehamster/troll-inn1.png"
            ],
            "text": "The troll is taking some much needed rest, sipping on a drink.",
            "audio": [
              "https://cdn.dobuki.net/bc3609cd090476c7020bdd94e89cc3d38843c16176c55d097d0577f0471f6821.mp3",
              "https://power-troll-levels.dobuki.net/data/audio/cutscene/audio/newgrounds/jacklehamster/1184476_Strolling-Jamuary-3-2023.mp3"
            ],
            "voice": "Samantha",
            "fade": false,
            "choices": [
              {
                "label": "Choice 1"
              },
              {
                "label": "Choice 2"
              },
              {
                "label": "Choice 3"
              }
            ],
            "choicesCount": 0,
            "id": "741fb081-8de0-4d9d-8176-79c365be88d0",
            "repeat": true
          },
          {
            "bg": [
              "https://cdn.dobuki.net/4a561f6ca9500c078bd7c9d5ed311c833be2d63c534d3fe3169041e06d58721e.png",
              "https://art.dobuki.net/data/image/cutscene/images/0932738c-2e5f-44cf-9797-e9cebfb378f3/newgrounds/jacklehamster/troll-inn2.png"
            ],
            "text": "\"You seem very glum my friend, care for another drink?\",\nasks the innkeeper.",
            "audio": "",
            "voice": "Aaron",
            "fade": false,
            "choices": [
              {
                "label": "Yes, hit me up with\nanother carrot juice!",
                "next": "ccd7541e-ee3a-4224-a032-17618602c891"
              },
              {
                "label": "No thanks"
              }
            ],
            "choicesCount": 2
          },
          {
            "bg": [
              "https://cdn.dobuki.net/d11a6097b86c659ce3599e8cccbad91cc52431d9e6c1ac660f00257345fa4df1.png",
              "https://art.dobuki.net/data/image/cutscene/images/0932738c-2e5f-44cf-9797-e9cebfb378f3/newgrounds/jacklehamster/troll-inn3.png"
            ],
            "text": "\"No thanks!\nI think I had enough.\"",
            "audio": "",
            "voice": "Junior",
            "fade": false
          },
          {
            "bg": [
              "https://cdn.dobuki.net/4a561f6ca9500c078bd7c9d5ed311c833be2d63c534d3fe3169041e06d58721e.png",
              "https://art.dobuki.net/data/image/cutscene/images/0932738c-2e5f-44cf-9797-e9cebfb378f3/newgrounds/jacklehamster/troll-inn2.png"
            ],
            "text": "\"What ails ye, my friend?\", asks the innkeeper.",
            "audio": "",
            "voice": "Aaron",
            "fade": false
          },
          {
            "bg": [
              "https://cdn.dobuki.net/d11a6097b86c659ce3599e8cccbad91cc52431d9e6c1ac660f00257345fa4df1.png",
              "https://art.dobuki.net/data/image/cutscene/images/0932738c-2e5f-44cf-9797-e9cebfb378f3/newgrounds/jacklehamster/troll-inn3.png"
            ],
            "text": "\"Merlot the spirited has anointed me as\na damn Supernatural Power Troll\"",
            "audio": "",
            "voice": "Junior",
            "fade": false
          },
          {
            "bg": [
              "https://cdn.dobuki.net/d11a6097b86c659ce3599e8cccbad91cc52431d9e6c1ac660f00257345fa4df1.png",
              "https://art.dobuki.net/data/image/cutscene/images/0932738c-2e5f-44cf-9797-e9cebfb378f3/newgrounds/jacklehamster/troll-inn3.png"
            ],
            "text": "\"I want to quit. I don't have\nwhat it takes.\"",
            "audio": "",
            "voice": "",
            "fade": false
          },
          {
            "bg": [
              "https://cdn.dobuki.net/d11a6097b86c659ce3599e8cccbad91cc52431d9e6c1ac660f00257345fa4df1.png",
              "https://art.dobuki.net/data/image/cutscene/images/0932738c-2e5f-44cf-9797-e9cebfb378f3/newgrounds/jacklehamster/troll-inn3.png"
            ],
            "text": "\"and I don't know where to find\nhis stupid infernal power orb\"",
            "audio": "",
            "voice": "",
            "fade": false
          },
          {
            "bg": [
              "https://cdn.dobuki.net/4a561f6ca9500c078bd7c9d5ed311c833be2d63c534d3fe3169041e06d58721e.png",
              "https://art.dobuki.net/data/image/cutscene/images/0932738c-2e5f-44cf-9797-e9cebfb378f3/newgrounds/jacklehamster/troll-inn2.png"
            ],
            "text": "\"Mayhaps a fine meal will set ye right.\"",
            "audio": "",
            "voice": "Aaron",
            "fade": false
          },
          {
            "bg": [
              "https://cdn.dobuki.net/2ff3382c4a268fb9d7d39cab58158d66da80636f22db8243152d7a8b1b06ee63.png",
              "https://art.dobuki.net/data/image/cutscene/images/0932738c-2e5f-44cf-9797-e9cebfb378f3/newgrounds/jacklehamster/troll-inn5.png"
            ],
            "text": "\"Yum... those beans are delicious.\"",
            "audio": "",
            "voice": "Junior",
            "fade": false
          },
          {
            "bg": [
              "https://cdn.dobuki.net/93fb349b2409f6f05e773f5676810bc7af64bf9101a58c7812e9e7680add746a.png",
              "https://art.dobuki.net/data/image/cutscene/images/0932738c-2e5f-44cf-9797-e9cebfb378f3/newgrounds/jacklehamster/troll-inn4.png"
            ],
            "text": "\"Thanks, I am pretty full.\nCould I use your restroom?\"",
            "audio": "",
            "voice": "",
            "fade": false
          },
          {
            "bg": [
              "https://cdn.dobuki.net/d7aa50534bbff9eb92e43e1ab08d1c6fda5f2beb26a55797bb6acec9dabefe63.png",
              "https://art.dobuki.net/data/image/cutscene/images/0932738c-2e5f-44cf-9797-e9cebfb378f3/newgrounds/jacklehamster/troll-inn6.png"
            ],
            "text": "\"Aye, ye'll find it upstairs, down at the end o' the hall.\",\nreplies the innkeeper.",
            "audio": "",
            "voice": "Aaron",
            "fade": false
          },
          {
            "bg": [
              "https://cdn.dobuki.net/b3cd159d71d30f9f912223ccfb2775b1c92eb6e383c256192d71972f16f2bdfa.png",
              "https://art.dobuki.net/data/image/cutscene/images/0932738c-2e5f-44cf-9797-e9cebfb378f3/newgrounds/jacklehamster/troll-inn7.png"
            ],
            "text": "The troll is relieving himself in the restroom...",
            "audio": [
              "https://cdn.dobuki.net/1f73ae2025f7f8a627d3819bb844d80489f183b772d1a1f82d1308d2b99b27c0.mp3",
              "https://power-troll-levels.dobuki.net/data/audio/cutscene/audio/newgrounds/jacklehamster/water-drop-85731 (mp3cut.net).mp3"
            ],
            "voice": "Samantha",
            "fade": false
          },
          {
            "bg": [
              "https://cdn.dobuki.net/c54246b77a5c761d23f3252046c97ce4bbf28a0ee44fd913149a18527e114feb.png",
              "https://art.dobuki.net/data/image/cutscene/images/0932738c-2e5f-44cf-9797-e9cebfb378f3/newgrounds/jacklehamster/troll-inn8.png"
            ],
            "text": "when he suddenly hears a voice...",
            "audio": "",
            "voice": "",
            "fade": false
          },
          {
            "bg": [
              "https://cdn.dobuki.net/9f8bd26928f027cc70190b8cc52c39d232b98134c1b1d7de34a1899329908674.png",
              "https://art.dobuki.net/data/image/cutscene/images/0932738c-2e5f-44cf-9797-e9cebfb378f3/newgrounds/jacklehamster/troll-inn9.png"
            ],
            "text": " ",
            "audio": [
              "assets/scratch.mp3"
            ],
            "voice": "",
            "fade": false
          },
          {
            "bg": [
              "https://cdn.dobuki.net/9f8bd26928f027cc70190b8cc52c39d232b98134c1b1d7de34a1899329908674.png",
              "https://art.dobuki.net/data/image/cutscene/images/0932738c-2e5f-44cf-9797-e9cebfb378f3/newgrounds/jacklehamster/troll-inn9.png"
            ],
            "text": "\"Troll! I heard you lost the orb\nto the red dragon!\", says Merlot",
            "audio": [
              "assets/darkness.mp3"
            ],
            "voice": "Ralph",
            "fade": false,
            "repeat": true
          },
          {
            "bg": [
              "https://cdn.dobuki.net/9f8bd26928f027cc70190b8cc52c39d232b98134c1b1d7de34a1899329908674.png",
              "https://art.dobuki.net/data/image/cutscene/images/0932738c-2e5f-44cf-9797-e9cebfb378f3/newgrounds/jacklehamster/troll-inn9.png"
            ],
            "text": "\"How can you possibly be more incompetent!\nYou poor excuse of a power troll!\"",
            "audio": "",
            "voice": "",
            "fade": false
          },
          {
            "bg": [
              "https://cdn.dobuki.net/b9be118814efee0ca8146167d213823325dbcc189682a49605cfe31ef171cc51.png",
              "https://art.dobuki.net/data/image/cutscene/images/0932738c-2e5f-44cf-9797-e9cebfb378f3/newgrounds/jacklehamster/troll-inn10.png"
            ],
            "text": "\"I beg of you, O Merlot the foul-smelling one.\nI no longer want to be your Supernatural power troll!\"",
            "audio": "",
            "voice": "Junior",
            "fade": false
          },
          {
            "bg": [
              "https://cdn.dobuki.net/56f343e028df2ebb8e56a1dea5544ad92ab34931eeeb4cb3011a0b3f02a735d8.png",
              "https://art.dobuki.net/data/image/cutscene/images/0932738c-2e5f-44cf-9797-e9cebfb378f3/newgrounds/jacklehamster/troll-inn11.png"
            ],
            "text": "\"Are you disobeying me? You insolent\nworthless pile of dung!\", says Merlot",
            "audio": "",
            "voice": "Ralph",
            "fade": false
          },
          {
            "bg": [
              "https://cdn.dobuki.net/d4cace55e6e9af6cf80e4d5d130fc791acdb1ae16430e0ec166da77e3b63d7bd.png",
              "https://art.dobuki.net/data/image/cutscene/images/0932738c-2e5f-44cf-9797-e9cebfb378f3/newgrounds/jacklehamster/troll-inn12.png"
            ],
            "text": "\"I'm sending Exposito to straighten you out, and\nshow you discipline!\", says Merlot",
            "audio": "",
            "voice": "",
            "fade": false
          },
          {
            "bg": [
              "https://cdn.dobuki.net/fea0d91022e1c620592460566ebfb4ef7ff39be4c98b4e19cf877c39985b63c9.png",
              "https://art.dobuki.net/data/image/cutscene/images/0932738c-2e5f-44cf-9797-e9cebfb378f3/newgrounds/jacklehamster/troll-inn13.png"
            ],
            "text": "\"You will regret going rogue, and beg for your life\nyou miserable troll!\"",
            "audio": [
              "https://cdn.dobuki.net/396145ba842b533c635164db721c3680ae6f5940e928bfec400940d55965d8b7.mp3",
              "https://power-troll-levels.dobuki.net/data/audio/cutscene/audio/newgrounds/jacklehamster/toilet-flush-106040 (mp3cut.net).mp3"
            ],
            "voice": "",
            "fade": false
          },
          {
            "bg": [
              "https://cdn.dobuki.net/da0285c070788f817de1ef0536dc1f4807987bcbcac26ad73e13fd6d0dac56f7.png",
              "https://art.dobuki.net/data/image/cutscene/images/0932738c-2e5f-44cf-9797-e9cebfb378f3/newgrounds/jacklehamster/troll-inn14.png"
            ],
            "text": "\"I need to leave very quickly!\", says the troll.",
            "audio": [
              "https://cdn.dobuki.net/bc3609cd090476c7020bdd94e89cc3d38843c16176c55d097d0577f0471f6821.mp3",
              "https://power-troll-levels.dobuki.net/data/audio/cutscene/audio/newgrounds/jacklehamster/1184476_Strolling-Jamuary-3-2023.mp3"
            ],
            "voice": "Junior",
            "fade": false,
            "repeat": true
          },
          {
            "bg": [
              "https://cdn.dobuki.net/da0285c070788f817de1ef0536dc1f4807987bcbcac26ad73e13fd6d0dac56f7.png",
              "https://art.dobuki.net/data/image/cutscene/images/0932738c-2e5f-44cf-9797-e9cebfb378f3/newgrounds/jacklehamster/troll-inn14.png"
            ],
            "text": "\"If anyone asks, swear you\nnever ever saw me here!\"",
            "audio": "",
            "voice": "",
            "fade": false
          },
          {
            "bg": [
              "https://cdn.dobuki.net/be2e5ba0264c8ca163905fefef3f88bc00b5b3a5c07e614ead031f1b4772ab4c.png",
              "https://art.dobuki.net/data/image/cutscene/images/0932738c-2e5f-44cf-9797-e9cebfb378f3/newgrounds/jacklehamster/troll-inn15.png"
            ],
            "text": "\"As ye wish, good luck to ye, poor ol' troll.\", says the innkeeper.",
            "audio": "",
            "voice": "Aaron",
            "fade": false
          },
          {
            "bg": [
              "https://cdn.dobuki.net/496fda5f40e983ff71864ad0277b82292d1662ee8061163b3f098fcd558e6133.png",
              "https://art.dobuki.net/data/image/cutscene/images/0932738c-2e5f-44cf-9797-e9cebfb378f3/newgrounds/jacklehamster/troll-inn16.png"
            ],
            "text": "\"Not so fast spineless troll!\",\nsays Exposito the knight in lightning armor.",
            "audio": [
              "https://cdn.dobuki.net/18159ae96dec0e3d72ac41b1597466d1463933fa4e98670bb7a80d2a832b442c.mp3",
              "https://power-troll-levels.dobuki.net/data/audio/cutscene/audio/newgrounds/jacklehamster/big-thunder-clap-99753-[AudioTrimmer.com].mp3"
            ],
            "voice": "Daniel",
            "fade": false
          },
          {
            "bg": [
              "https://cdn.dobuki.net/496fda5f40e983ff71864ad0277b82292d1662ee8061163b3f098fcd558e6133.png",
              "https://art.dobuki.net/data/image/cutscene/images/0932738c-2e5f-44cf-9797-e9cebfb378f3/newgrounds/jacklehamster/troll-inn16.png"
            ],
            "text": "\"You're coming with me, pitiful troll.\nWe shall seek the red dragon and retrieve the orb.\",\nsays the knight",
            "audio": "",
            "voice": "",
            "fade": false
          }
        ],
        "enabled": true,
        "disabled": false,
        "id": "6f4e41ea-a806-4c16-b91f-a37a8c14a57b",
        "created": 1731404186397,
        "availableAudio": [
          [
            "assets/scratch.mp3"
          ],
          [
            "assets/darkness.mp3"
          ],
          [
            "https://cdn.dobuki.net/396145ba842b533c635164db721c3680ae6f5940e928bfec400940d55965d8b7.mp3",
            "https://power-troll-levels.dobuki.net/data/audio/cutscene/audio/newgrounds/jacklehamster/toilet-flush-106040 (mp3cut.net).mp3"
          ],
          [
            "https://cdn.dobuki.net/bc3609cd090476c7020bdd94e89cc3d38843c16176c55d097d0577f0471f6821.mp3",
            "https://power-troll-levels.dobuki.net/data/audio/cutscene/audio/newgrounds/jacklehamster/1184476_Strolling-Jamuary-3-2023.mp3"
          ],
          [
            "https://cdn.dobuki.net/18159ae96dec0e3d72ac41b1597466d1463933fa4e98670bb7a80d2a832b442c.mp3",
            "https://power-troll-levels.dobuki.net/data/audio/cutscene/audio/newgrounds/jacklehamster/big-thunder-clap-99753-[AudioTrimmer.com].mp3"
          ],
          [
            "https://cdn.dobuki.net/1f73ae2025f7f8a627d3819bb844d80489f183b772d1a1f82d1308d2b99b27c0.mp3",
            "https://power-troll-levels.dobuki.net/data/audio/cutscene/audio/newgrounds/jacklehamster/water-drop-85731 (mp3cut.net).mp3"
          ]
        ],
        "updated": 1731403980612,
        "firstScene": "741fb081-8de0-4d9d-8176-79c365be88d0",
        "author": "@jacklehamster",
        "title": "Power Troll cutscene",
        "lockKey": "36a592409f510412c06f8b4612c29e6f37ed7b53e2a6ee0dc3c302e49cee526d"
      }
    </script>
    <!-- CUTSCENE -->
    <style>
      .gradient-text {
        font-size: 30px;
        font-weight: bold;
        background: linear-gradient(to bottom, #ffaaaa, #6633ff);
        -webkit-background-clip: text;
        background-clip: text;
        -webkit-text-fill-color: transparent;
      }
      @font-face {
        font-family: "Coffee";
        src: url(https://cutscene.dobuki.net/fonts/Gluten-Bold.otf)
          format("opentype");
        font-display: block;
      }
      @font-face {
        font-family: "Gameboy";
        src: url(https://cutscene.dobuki.net/fonts/early-gameboy.ttf)
          format("truetype");
        font-display: swap;
      }
      @font-face {
        font-family: "Speech";
        src: url(https://cutscene.dobuki.net/fonts/cat-comic.ttf)
          format("truetype");
        font-display: swap;
      }
      html::-webkit-scrollbar {
        display: none;
      }
      body {
        margin: 0;
        background-color: #0e0007;
        -webkit-user-select: none; /* Safari */
        -moz-user-select: none; /* Firefox */
        -ms-user-select: none; /* IE10+/Edge */
        user-select: none; /* Standard */
      }
      a {
        text-decoration: none;
      }
      a:hover {
        text-decoration: underline;
      }
      .asi {
        font-family: Speech;
      }
      .title {
        padding: 0;
        text-shadow: #fc0 1px 0 10px;
        color: #cccccc;
        transition: all 0.5s;
        margin-top: 50px;
        height: 40px;
        font-family: Speech;
      }
      .author {
        margin: 0;
        padding: 0;
        color: #999999;
        height: 30px;
        margin-top: 30px;
        transition: all 0.5s;
      }
      .cut-scene {
        margin: auto;
        width: 600px;
        height: 360px;
        cursor: pointer;
        background-repeat: no-repeat;
        background-position-x: center;
        background-position-y: center;
        display: flex;
        transition: opacity 1s;
        font-size: 16pt;
        -webkit-user-select: none; /* Safari */
        -moz-user-select: none; /* Firefox */
        -ms-user-select: none; /* IE10+/Edge */
        user-select: none; /* Standard */
        border-radius: 25px;
        /*background-image: url(https://art.dobuki.net/images/dobuki.png);*/
        background-size: 60%;
        font-family: Speech;
      }
      h4,
      h3,
      h2,
      h1 {
        margin: 5;
      }
      .important {
        font-weight: bold;
        color: black;
        text-transform: uppercase;
      }
      .container {
        border-radius: 25px;
        background-color: black;
        width: 600px;
        height: 360px;
        margin: auto;
        transition: all 0.5s;
      }
      .game-view {
        width: 100%;
        height: 100%;
      }
      .prompt-dialog {
        font-family: Speech;
        font-size: 16pt;
        background-color: #cccccc;
        padding: 20px 40px;
        border-radius: 10px;
        box-shadow: 5px 5px 10px 0 rgba(0, 0, 0, 0.5);
        text-align: center;
        cursor: move;
        position: absolute;
      }
      .prompt-text {
        pointer-events: none;
      }
      .prompt-button {
        width: 120px;
      }
      #press-key {
        transition: opacity 0.2s;
      }
    </style>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pako/2.1.0/pako.min.js"></script>
    <script>
      window.cutsceneMode = true;
    </script>
    <script>
      async function fetchAndDecompress(url, backupUrl) {
        try {
          // Fetch the compressed file
          const response = await fetch(url);
          const compressedData = await response.arrayBuffer();

          // Decompress the file using pako (for Gzip)
          const decompressedData = pako.ungzip(new Uint8Array(compressedData));

          // Create a Blob from the decompressed data
          const blob = new Blob([decompressedData], {
            type: "application/javascript",
          });

          // Create a Blob URL
          return URL.createObjectURL(blob);
        } catch (err) {
          console.warn("Error fetching or decompressing file:", err);
          if (backupUrl) {
            const decompressedData = await fetch(backupUrl).then((response) =>
              response.blob()
            );
            // Create a Blob from the decompressed data
            const blob = decompressedData;

            // Create a Blob URL
            return URL.createObjectURL(blob);
          }
        }
      }
      var sourceUrlPromise = fetchAndDecompress(
        window.generatedCutscene
          ? "https://cutscene.dobuki.net/data/index.bin"
          : "dist/index.bin"
      );
    </script>
  </head>
  <body>
    <div
      id="prompter"
      style="display: none"
      onmousedown="event.stopPropagation()"
      onmouseup="event.stopPropagation()"
      onkeydown="event.stopPropagation()"
      onkeyup="event.stopPropagation()"
    >
      <div
        style="
          position: fixed;
          background-color: rgba(0, 0, 0, 0.5);
          z-index: 999;
          width: 100vw;
          height: 100vh;
          top: 0;
          left: 0;
        "
      >
        <div
          style="
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            height: 100vh;
          "
        >
          <div class="prompt-dialog">
            <div style="pointer-events: none">
              <label id="prompt-label" for="prompt-text">Enter text</label>
            </div>
            <div>
              <textarea
                style="
                  width: 300px;
                  height: 100px;
                  border-radius: 10px;
                  padding: 5px;
                "
                id="prompt-text"
                placeholder="Enter your text"
              ></textarea>
            </div>
            <div>
              <button type="button" id="prompt-button" class="prompt-button">
                OK
              </button>
              <button type="button" id="prompt-clear" class="prompt-button">
                Clear
              </button>
              <button type="button" id="prompt-cancel" class="prompt-button">
                Cancel
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div id="press-key">
      <div style="width: 100%; text-align: center">
        <div id="container" class="container" style="margin-top: 10px">
          <h1 class="title"></h1>
          <a id="author-link" title="author" target="_blank" href=""
            ><h4 class="author"></h4
          ></a>
          <div
            id="game-view"
            class="game-view"
            style="opacity: 0; display: none"
          ></div>
          <div class="cut-scene" id="cut-scene" style="opacity: 0">
            <div
              style="
                margin-bottom: 15px;
                display: inline-block;
                align-self: flex-end;
                background-color: #444444;
                text-align: center;
                font-size: 18px;
                width: 100%;
              "
            >
              press space
            </div>
          </div>
          <div id="page" style="color: #999999"></div>
        </div>
      </div>
    </div>
    <div
      id="brand"
      style="
        position: absolute;
        top: 10px;
        left: 10px;
        display: none;
        flex-direction: row;
        font-family: Coffee;
      "
    >
      <a
        rel="noopener"
        target="_blank"
        href="https://cutscene.dobuki.net/data/empty/#auto-start=1"
      >
        <img
          style="width: 50px; height: 50px"
          alt="dobuki-logo"
          src="https://cutscene.dobuki.net/social/dobuki-100.png"
        />
      </a>
      <h1
        style="
          position: absolute;
          left: 55px;
          top: 0px;
          margin: 0;
          margin-left: 5px;
          white-space: nowrap;
          pointer-events: none;
        "
        class="gradient-text"
      >
        Dobuki Cutscene Creator
      </h1>
    </div>

    <!-- SOCIAL MEDIA -->
    <div
      id="social-media-icons"
      style="
        position: absolute;
        left: 10px;
        bottom: 10px;
        color: #aaaaaa;
        display: none;
      "
    >
      <div style="font-weight: bold">share:</div>
      <img
        id="social-media-x-icon"
        alt="X"
        style="width: 20px; height: 20px; cursor: pointer"
        src="https://art.dobuki.net/social-media/x-icon.png"
      />
      <img
        id="social-media-reddit-icon"
        alt="reddit"
        style="width: 20px; height: 20px; cursor: pointer"
        src="https://art.dobuki.net/social-media/reddit.png"
      />
      <img
        id="social-media-link-icon"
        alt="link"
        style="width: 20px; height: 20px; cursor: pointer"
        src="https://art.dobuki.net/images/link.png"
      />
      <span
        id="copied"
        style="
          font-size: 10pt;
          color: #888;
          position: absolute;
          width: 100px;
          bottom: 50px;
          transition: all 0.5s;
          pointer-events: none;
          opacity: 0;
          margin-left: 10px;
        "
      >
        📝 link copied</span
      >
    </div>
    <script>
      async function getCanonicalCutsceneUrl() {
        function ensureSlash(url) {
          url = url.split("?")[0].split("#")[0];
          if (!url.endsWith("/")) {
            return url + "/";
          }
          return url;
        }
        const canonicalUrl = window.canonicalUrl;
        if (
          canonicalUrl &&
          canonicalUrl !== ensureSlash(window.location.href)
        ) {
          return await fetch(canonicalUrl)
            .then(async (result) => {
              if (!result.ok) {
                return;
              }
              const text = await result.text();
              if (text.includes(`version: ${window.canonicalVersion}`)) {
                console.log("canonical url is ready");
                return canonicalUrl;
              }
            })
            .catch(() => {
              console.log("canonical url not ready");
            });
        }
        return window.location.href;
      }
      document
        .querySelector("#social-media-x-icon")
        .addEventListener("click", async () => {
          const url = await getCanonicalCutsceneUrl();
          const text = document.title;
          const hashtags = "DobukiCutscene";
          const via = "jacklehamster";
          const shareUrl = `https://x.com/intent/tweet?url=${encodeURIComponent(
            url
          )}&text=${encodeURIComponent(text)}&hashtags=${encodeURIComponent(
            hashtags
          )}&via=${encodeURIComponent(via)}`;
          window.open(shareUrl, "_blank");
        });
      document
        .querySelector("#social-media-reddit-icon")
        .addEventListener("click", async () => {
          const url = await getCanonicalCutsceneUrl();
          const title = document.title;
          const shareUrl = `https://www.reddit.com/submit?url=${encodeURIComponent(
            url
          )}&title=${encodeURIComponent(title)}`;
          window.open(shareUrl, "_blank");
        });
      document
        .querySelector("#social-media-link-icon")
        .addEventListener("click", async () => {
          const url = await getCanonicalCutsceneUrl();
          navigator.clipboard.writeText(url);
          document.querySelector("#copied").style.bottom = "10px";
          document.querySelector("#copied").style.opacity = "1";
          setTimeout(() => {
            document.querySelector("#copied").style.bottom = "50px";
            document.querySelector("#copied").style.opacity = "0";
          }, 3000);
        });
    </script>
    <!-- SOCIAL MEDIA -->
  </body>
  <script id="cut-scene-code" type="module">
    const module = await import(await sourceUrlPromise);
    const {
      createSuperNaturalPowerTrollGame,
      newgrounds,
      prepareUrls,
      u,
      revoke,
      handleGamePad,
      fetchJsonFile,
      fetchUserJsonFile,
      listFiles,
      canPlayMP3,
      canPlayOGG,
      getAllOverlays,
      compress,
      extract,
    } = module;

    const cs = document.getElementById("cut-scene");
    cs.style.opacity = 1;
    let transitioning = false;

    let currentAudio;
    let audioPlaying;

    const keyDown = (e) => {
      switch (e.code) {
        case "Enter":
          startGame(0);
          break;
        case "Space":
          startGame(1);
          break;
      }
    };
    const onClick = () => {
      startGame();
    };

    const startGame = async () => {
      document.removeEventListener("keydown", keyDown);
      const cutSceneDiv = document.getElementById("cut-scene");
      cutSceneDiv.parentElement.removeChild(cutSceneDiv);

      const gameView = document.getElementById("game-view");
      const container = document.getElementById("container");
      container.style.width = "100vw";
      container.style.height = "100vh";
      container.style.borderRadius = "0px";
      container.style.marginTop = "0";
      gameView.style.display = "";

      document.querySelector(".title").style.opacity = 0;
      document.querySelector(".title").style.margin = 0;
      document.querySelector(".title").style.height = 0;

      document.querySelector(".author").style.opacity = 0;
      document.querySelector(".author").style.margin = 0;
      document.querySelector(".author").style.height = 0;

      document.querySelector("#press-key").style.opacity = 0;
      setTimeout(() => {
        document.querySelector("#press-key").style.opacity = 1;
      }, 800);

      const activatePlayer = () => {};
      const audioExt = "mp3";
      window.game = await createSuperNaturalPowerTrollGame(
        undefined,
        "save",
        undefined,
        gameView,
        async (url) => fetch(url).then((r) => r.text()),
        activatePlayer,
        audioExt,
        undefined,
        undefined,
        undefined,
        undefined,
        fetchUserJsonFile,
        async (message, defaultValue, options) => {
          return new Promise((resolve) => {
            const promptDialog = document.getElementById("prompter");
            const promptLabel = document.getElementById("prompt-label");
            const promptText = document.getElementById("prompt-text");
            const promptButton = document.getElementById("prompt-button");
            const promptClear = document.getElementById("prompt-clear");
            const promptCancel = document.getElementById("prompt-cancel");
            promptLabel.textContent = message;
            promptText.value = defaultValue;
            promptText.placeholder = options?.placeholder ?? "";
            promptDialog.style.display = "block";
            promptText.focus();
            promptText.select();
            const ok = () => {
              closePrompt();
              resolve(promptText.value);
            };
            const clear = () => {
              promptText.value = "";
              ok();
            };
            const cancel = () => {
              closePrompt();
              resolve(null);
            };
            const escapeToCancel = () => {
              if (event.key === "Escape") {
                cancel();
              }
            };
            promptCancel.textContent = options?.cancelLabel ?? "Cancel";
            promptButton.addEventListener("click", ok);
            promptClear.addEventListener("click", clear);
            promptCancel.addEventListener("click", cancel);
            promptText.addEventListener("keydown", escapeToCancel);
            const closePrompt = () => {
              promptDialog.style.display = "none";
              promptButton.removeEventListener("click", ok);
              promptClear.removeEventListener("click", clear);
              promptCancel.removeEventListener("click", cancel);
              promptText.removeEventListener("keydown", escapeToCancel);
            };
          });
        },
        [],
        undefined,
        false,
        compress,
        extract,
        cutSceneData,
        window.generatedCutscene
      );
      document.querySelector("#social-media-icons").style.display = "none";
    };

    document.addEventListener("keydown", keyDown);
    document.querySelector("#cut-scene").addEventListener("click", onClick);
    document.fonts.load('12pt "Gameboy"');

    {
      const dialog = document.querySelector(".prompt-dialog");
      let pointDown = null;
      const point = { x: 0, y: 0 };
      dialog.addEventListener("mousedown", (e) => {
        pointDown = { x: e.clientX, y: e.clientY };
        point.x = dialog.offsetLeft;
        point.y = dialog.offsetTop;
        e.stopPropagation();
      });
      dialog.addEventListener("mousemove", (e) => {
        if (e.buttons === 1 && e.target === dialog && pointDown) {
          const diffX = e.clientX - pointDown.x;
          const diffY = e.clientY - pointDown.y;
          dialog.style.left = `${point.x + diffX}px`;
          dialog.style.top = `${point.y + diffY}px`;
          e.stopPropagation();
        }
        if (!e.buttons) {
          pointDown = null;
        }
      });
    }

    //  Check if the cutscene has been saved in the local storage
    function getCutsceneFromLocalStorage(id) {
      if (!id) {
        return undefined;
      }
      const cutSceneDatas = JSON.parse(
        localStorage.getItem("saved-cutscenes") ?? "{}"
      );
      return cutSceneDatas[id];
    }
    let cutSceneData = JSON.parse(
      document.querySelector("#cutscene-data").textContent
    );

    //  if there's no cutscene data, try to get it from localStorage
    if (!cutSceneData.id) {
      const newSceneIds = JSON.parse(
        localStorage.getItem("new-cutscene-ids") ?? "[]"
      );
      if (newSceneIds.length) {
        cutSceneData.id = newSceneIds[newSceneIds.length - 1];
      }
    }

    cutSceneData = getCutsceneFromLocalStorage(cutSceneData.id) ?? cutSceneData;

    document.querySelector("#social-media-icons").style.display =
      window.generatedCutscene && cutSceneData.scenes?.length
        ? "block"
        : "none";

    const hashParams = location.hash?.startsWith("#")
      ? new URLSearchParams(location.hash.substring(1))
      : new URLSearchParams();
    if (hashParams) {
      history.replaceState(null, "", location.href.split("#")[0]);
    }

    {
      //  Check if the hash contains a page number
      const targetPage = parseInt(hashParams.get("page"));
      function findBg(scenes, pageIndex) {
        for (let i = pageIndex; i >= 0; i--) {
          if (scenes?.[i].bg) {
            return scenes[i].bg;
          }
        }
      }

      const bg = findBg(cutSceneData.scenes, targetPage ? targetPage - 1 : 0);
      if (bg) {
        const bgs = Array.isArray(bg) ? bg : [bg];
        const background = location.href.startsWith("https://cdn.dobuki.net/")
          ? bgs[0]
          : bgs[bgs.length - 1];
        document.querySelector(
          "#cut-scene"
        ).style.backgroundImage = `url(${background})`;
      }
      document.querySelector("#page").textContent = targetPage
        ? `Page ${targetPage} / ${cutSceneData.scenes.length}`
        : "";
    }

    //  Check if the hash contains a passKey
    const passKey = hashParams.get("passKey");
    if (passKey) {
      const keys = JSON.parse(localStorage.getItem("cutscene-keys") ?? "{}");
      keys[passKey] = Date.now();
      localStorage.setItem("cutscene-keys", JSON.stringify(keys));
    }

    {
      document.querySelector(".title").textContent = document.title;
      const author = document.querySelector("meta[name=author]").content;
      document.querySelector(".author").textContent = author;
      document.querySelector("#author-link").href =
        "https://x.com/" +
        (author.startsWith("@") ? author.substring(1) : author);
    }
    if (hashParams.get("auto-start")) {
      startGame();
    }
  </script>
</html>
